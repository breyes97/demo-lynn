@{
    ViewData["Title"] = "Home Page";
}

<style>
    .k-card {
        border-color: white;
    }

    .k-list-optionlabel{
        font-size: 170%;
        font-family: Arial, Helvetica, sans-serif;
    }

    .k-list-item.k-selected, .k-selected.k-list-optionlabel {
        color: #ffffff;
        background-color: black;
        font-size: 170%;
        font-family: Arial, Helvetica, sans-serif;
    }

    .k-list-optionlabel.k-selected:hover {
        background-color: rgba(0, 0, 0, 0.30);
        color: black;
        box-shadow: none;
        border-color: none;
        font-size: 170%;
        font-family: Arial, Helvetica, sans-serif;
    }

    .k-input-solid:focus-within {
        border-color: black;
        box-shadow: none;
    }

    .k-list-item.k-selected.k-focus.k-hover{
        background-color: rgba(0, 0, 0, 0.30);
        color: black;
        box-shadow: none;
        border-color: none;
        font-size: 170%;
        font-family: Arial, Helvetica, sans-serif;
    }

    .k-popup {
        border-radius: 4%;
        border-color: black;
        background-color: white;
        box-shadow: none;
    }
    
    .k-card-header {
        flex: 0 0 auto;
    }

    .k-list-item{
        color: black;
        font-size: 170%;
        font-family: Arial, Helvetica, sans-serif;
    }

    .k-card-body {
        overflow: hidden;
    }

    .k-d-flex {
        height: 100vh;
        justify-content: center;
        align-items: center;
    }


    .example-item {
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 20px;
        border-radius: 5px;
        background-color: #ffffff;
        font-size: 170%;
        font-family: Arial, Helvetica, sans-serif;
    }

    #loader-secondary {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    #channels, #view-interface {
/*         display: flex; */
        justify-content: center;
        align-items: center;
    }

    #forImage {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    #type-of-service {
/*         display: flex; */
        justify-content: center;
 /*        align-items: center; */
    }
    
    #case1, #case2, #case3, #gmail-btn, #kyubo-btn, #ig-btn {
        display: flex;
        align-items: center; /* Alinea verticalmente */
        justify-content: center; /* Alinea horizontalmente */
        padding: 10px;
        font-size: 170%;
        color: black;
        background-color: white;
        border-radius: 6px;
        height: 22%;
    }

    #gmail-btn, #kyubo-btn, #case1, .example-item, #ig-btn {
        display: none;
    }

    .k-dropdownlist .k-input-inner {
        background: white;
        font-size: 170%;
        font-family: Arial, Helvetica, sans-serif;
        border-radius: 6px;
        height: 30%;
    }

    .k-list-item { 
        background-color: white;
        font-family: Arial, Helvetica, sans-serif;
    }

    .gmail-icon, .kyubo-icon, .ig-icon{
        margin-right: 8px;
        
    }

    .close-image {
        position: absolute;
        top: 8px;
        right: 12px;
    }

    .close-image:hover,
    .close-image:focus {
        color: #bbb;
        text-decoration: none;
        cursor: pointer;
    }


    #phoneImage{
        position: absolute;
        z-index: 6;
    }

/*     .modal-interface {
        display: flex;
        justify-content: center;
        align-items: center;
        position: fixed;
        z-index: 1;
        top: 50%;
        left: 25%;
        background-color: rgba(0, 0, 0, 0.7);
        height: 60%;
        width: 50%;
        }*/


    .modal-interface{
        visibility: hidden;
    } 
    .modal-interface{
        position: relative;
    }

    .ex-interface-image {
        position: absolute;
        z-index: 4;
        top: 50%;
        left: 50%;
        padding: 1em;
        border-radius: 3%;
        top: 50%;
        left: 50%;
    }

    .black-out{
        background-color: black;
        z-index: 1;
        height: 679px;
        width: 334px;
        border-radius: 12%;
    }

    .sending-video{
        display: none;
        position: absolute;
        height: 679px;
        width: 338px;
        border-radius: 12%;
        z-index: 3;
    }

    #gmailInbox{
        display: none;
        position: absolute;
        height: 679px;
        width: 338px;
        border-radius: 12%;
        z-index: 2;
    }



</style>



<div id="example">
        <div class="modal-interface">
            <image class="ex-interface-image" src="images/Interface.png"/>
        <span class="close-image" id="for-close"><img src="images/close.png" style="height: 70px;" /></span>
        </div>

    <div id="tilelayout"></div>
    <!-- container text templates -->
    <script id="type-of-service-section" type="text/x-kendo-template">
        <div id="type-of-service" style="width:100%">
            <input id="kd-place-chooser" />
        </div>
    </script>
    <script id="mobile-interface" type="text/x-kendo-template">
        <div id="forImage" style="height:100%" >
            <div class="black-out"></div>
            <video class="sending-video" id="sending-mail-video" src="images/casos_de_uso/gmail-kyubo/sending_email_all_the_video.mp4" frameborder="0"></video>
            <img src="images/casos_de_uso/gmail-kyubo/gmail-inbox.png" id="gmailInbox"/>
            <img src="images/iphone-bg.png" id="phoneImage" style="height:100%"/>
        </div>
    </script>   
    <script id="loading-section" type="text/x-kendo-template">
        <div class="k-d-flex">
            <div class="example-item">
                <div>Loading</div>
                <div id="loader-secondary"></div>
            </div>
        </div>
    </script>
    <script id="view-interface-section" type="text/x-kendo-template">
        <div id="view-interface" style="height:100%; width:100%">
            <button id="kyubo-btn" style="width:100%"><img src="images/lynnicons-2024/lynnicons/svg-channel/kyubo.svg" style="height:100%" class="kyubo-icon" alt="kyubo"/>Kuybo</button>
        </div>
    </script>
    <script id="channels-section" type="text/x-kendo-template">
        <div id="channels" style="height:100%;">
            <button id="gmail-btn" style="width:100%;"><img src="images/lynnicons-2024/lynnicons/svg-channel/gmail.svg" style="height:100%" class="gmail-icon" alt="gmail"/>Gmail</button></br></br>
            @* <button id="ig-btn" style="width:100%;><img src="images/lynnicons-2024/lynnicons/svg-channel/instagram.svg" style="height:100%" class="ig-icon" alt="instagram"/>Instagram</button> *@
        </div>
    </script>
    <script id="view-messages-section" type="text/x-kendo-template">
        <div id="users-grid" style="height:100%;"></div>
    </script>
    <script id="use-cases" type="text/x-kendo-template">
        <div>
            <button id="case1" style="width:100%">Consulta sobre compra de equipo</button>
        </div>
    </script>




    <script>
        var typeOfService = @Html.Raw(Json.Serialize(ViewBag.TypeOfService));
        
        console.log("Tipo de servicio: ", typeOfService)

        $("#tilelayout").kendoTileLayout({
            //Para tipo de servicio
            containers: [{
                colSpan: 1,
                rowSpan: 1,
                bodyTemplate: kendo.template($("#type-of-service-section").html())

            }, {
                colSpan: 2,
                rowSpan: 3,
                bodyTemplate: kendo.template($("#mobile-interface").html())
            }, {
                colSpan: 1,
                rowSpan: 3,
                bodyTemplate: kendo.template($("#loading-section").html())
            }, {
                colSpan: 1,
                rowSpan: 1,
                bodyTemplate: kendo.template($("#view-interface-section").html())
            }, {
                colSpan: 1,
                rowSpan: 1,
                bodyTemplate: kendo.template($("#channels-section").html())
            }, {
                colSpan: 1,
                rowSpan: 2,
                bodyTemplate: kendo.template($("#view-messages-section").html())
            }, {
                colSpan: 1,
                rowSpan: 1,
                bodyTemplate: kendo.template($("#use-cases").html())
            }],

            gap: {
                rows: 0,
                columns: 0
            },
            


            columns: 5,
            columnsWidth: getWidth(),
            rowsHeight: 235,
            // reorderable: true,
            // resizable: true,
            // resize: function (e) {
            //     var rowSpan = e.container.css("grid-column-end");
            //     var chart = e.container.find(".k-chart").data("kendoChart");
            //     // hide chart labels when the space is limited
            //     if (rowSpan === "span 1" && chart) {
            //         chart.options.categoryAxis.labels.visible = false;
            //         chart.redraw();
            //     }
            //     // show chart labels when the space is enough
            //     if (rowSpan !== "span 1" && chart) {
            //         chart.options.categoryAxis.labels.visible = true;
            //         chart.redraw();
            //     }

            //     // for widgets that do not auto resize
            //     https://docs.telerik.com/kendo-ui/styles-and-layout/using-kendo-in-responsive-web-pages
            //     kendo.resize(e.container, true);
            // }
        });

        // $("#dropdownlist").kendoDropDownList({
        //     fillMode: "outline"
        //     popup: {
        //         appendTo: $("#container"), // Adjunta el popup a un elemento específico

        // });
        // function createCharts() {
        // };

        // $(document).bind("kendo:skinChange", createCharts);


        function getWidth() {
            const width = $(window).innerWidth();
            if (width < 23) {
                return 23;
            } else {
                return width;
            }
        }

        document.getElementById("gmail-btn").onclick = function () {
            $('#case1').show();
            $('#gmailInbox').show();

        };



        // document.getElementById("case2").onclick = function () {
        //     $('.example-item, #kyubo-btn').show();
        // };

        // document.getElementById("case3").onclick = function () {
        //     $('.example-item, #kyubo-btn').show();
        // };

        // var image = document.getElementById("#gmailInbox");
        // var button = document.getElementById("#gmail-btn");

        // button.onclick = function () {
        //     image.style.visibility = "visible";

        // }


        var modal = document.getElementById("ex-interface");
        var btn = document.getElementById("kyubo-btn");
        var cls = document.getElementById("for-close");


        btn.onclick = function () {
            modal.style.visibility = "visible";
        }


        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.visibility = "hidden";
            }
        }

        cls.onclick = function () {
            modal.style.visibility = "hidden";

        }


        //---------PARA EL VIDEO-------------

        // Tiempo en segundos desde el cual se desea iniciar la reproducción


        // Cuando el video esté listo para reproducirse, establece el tiempo de inicio


        // Opcional: Reproduce automáticamente el video desde el punto especificado
        // video.addEventListener('canplay', function () {
        //     video.play();
        // }, false);
        var startTime = 2; // 60 segundos = 1 minuto
        var video = document.getElementById('sending-mail-video');

        video.addEventListener('loadedmetadata', function () {
            video.currentTime = startTime;
        }, false);

        document.getElementById("case1").onclick = function () {
            $('.example-item, #kyubo-btn').show();
            $('#gmailInbox').hide();
            $('.sending-video').show();
            $('.sending-video').each(function () {
                var video = this;
                video.play();

                // Pausar el video después de 5 segundos de reproducción
                setTimeout(function () {
                    video.pause();

                    // Reanudar el video después de 5 segundos de pausa
                    setTimeout(function () {
                        video.play();
                    }, 5000); // 5000 milisegundos = 5 segundos
                }, 5); // 5000 milisegundos = 5 segundos
            });

            var pauseTime = 2; // 60 segundos = 1 minuto
            var video = document.getElementById('sending-mail-video');

            video.addEventListener('loadedmetadata', function () {
                video.currentTime = startTime;
            }, false);


        };

 

 


        //Para Drop Down list

        $(document).ready(function () {

            function onSelect(e) {
                console.log(e);
                console.log(e.dataItem.text);
                console.log(e.dataItem.value);
                
                $('#gmail-btn').show();
            };

            var dataSource = new kendo.data.DataSource({
                data: typeOfService,
                sort: { field: "text", dir: "asc" }
            });

            $("#kd-place-chooser").kendoDropDownList({
                filter: "contains",
                optionLabel: 'Tipo de servicio...',
                fillMode: "None",
                dataTextField: "text",
                dataValueField: "value",
                dataSource: dataSource,
                select: onSelect
            });



        });
        // PAra el loading
        var primary = $('#loader-secondary').kendoLoader({
            themeColor: 'secondary'
        }).data("kendoLoader");


    </script>
</div>





